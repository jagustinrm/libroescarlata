{
  "id": "story-001",
  "title": "La leyenda de Taní",
  "chapters": [
    {
      "id": "1",
      "title": "El Cuervo",
      "dialogSequence": "dialog-1",
      "events": [
        {
          "id": "event-1-1",
          "description": "Devastado luego de ver arder tu aldea, un hombre misterioso se te presenta",
          "status": "in-progress",
          "options": [
          {
            "id": "choice-1",
            "text": "Luchar",
            "outcome": "fight",
            "enemies": ["Goblin"]
          },
          {
            "id": "choice-2",
            "text": "No deseo pelear",
            "outcome": "escape"
          }],
          "reward": [
            { "items": [{ "name": "Poción de Curación Menor", "type": "potions", "cant": 1 }] },
            { "materials": 200 }
          ]
        },
        {
          "id": "event-1-2",
          "description": "Un goblin te atrapa mientras huís",
          "status": "in-progress",
          "options": [
            {
              "id": "choice-1",
              "text": "Luchar",
              "outcome": "fight",
              "enemies": ["Goblin con hacha"]
            },
            {
              "id": "choice-2",
              "text": "No deseo pelear",
              "outcome": "escape"
            }],
            "reward": [
              { "items": [{ "name": "Poción de Curación Menor", "type": "potions", "cant": 1 }] },
              { "materials": 200 }
            ],
          "worldState": { "mapReceived": "true" },
          "conditions": {
            "requiresItem": "Poción de Curación Menor",
            "requiresLevel": 1,
            "requiresState": ""
          }
        },
        {
          "id": "event-1-3",
          "description": "Hay que buscar recursos para el viaje",
          "status": "in-progress",
          "reward": [
            { "items": [{ "name": "Carta de despedida", "type": "letters", "cant": 1 }] }
          ],
          "options": [
            {
              "id": "choice-1",
              "text": "Entregar",
              "outcome": "deliver"
            }],
          "conditions": {
            "requiresItem": "Mapa antiguo",
            "requiresLevel": 1,
            "requiresState": ""
          }
        }
      ],
      "completed": false
    },
    {
      "id": "2",
      "title": "Un descanso necesario",
      "dialogSequence": "dialog-2",
      "events": [
        {
          "id": "event-2-1",
          "description": "Luego de varios días de viaje, necesitados de descansar, encuentran una posada en un pueblo y deciden quedarse ahí la noche",
          "status": "in-progress",
          "options": [
            {
              "id": "choice-1",
              "text": "Luchar",
              "outcome": "fight",
              "enemies": ["Guardia"]
            },
            {
              "id": "choice-2",
              "text": "Decirle tu nombre",
              "outcome": "escape"
            }],
          "worldState": { "caveEntrance": "found" },
          "conditions": {
            "requiresItem": "",
            "requiresLevel": 4,
            "requiresState": ""
          }
        },
        {
          "id": "event-2-2",
          "description": "Una criatura demoníaca entra por la ventana buscando al hombre encapuchado y te obliga a pelear.",
          "completed": false,
          "options": [
            {
              "id": "choice-1",
              "text": "Luchar",
              "outcome": "fight",
              "enemies": ["Demonio pequeño"]
            }],
          "reward": [
            { "items": [{ "name": "Espada de luz", "type": "weapons", "cant": 1 }] }
          ],
          "worldState": { "monsterDefeated": "true" },
          "conditions": {
            "requiresItem": "",
            "requiresLevel": 5,
            "requiresState": ""
          }
        }
      ],
      "completed": false
    },
    {
      "id": "3",
      "title": "El camino más largo",
      "events": [
        {
          "id": "event-3-1",
          "description": "El héroe llega a las montañas y descubre una fortaleza enemiga.",
          "completed": false,
          "reward": [
            { "items": [{ "name": "Llave de la fortaleza", "type": "accessories", "cant": 1 }] }
          ],
          "worldState": { "fortressFound": "true" },
          "conditions": {
            "requiresItem": "Mapa misterioso",
            "requiresLevel": 10,
            "requiresState": "strangeMapFound"
          }
        },
        {
          "id": "event-3-2",
          "description": "Un grupo de soldados aparece y te desafía a un combate.",
          "completed": false,
          "fight": {
            "canFight": true,
            "enemies": ["enemy-soldiers"]
          },
          "reward": [
            { "items": [{ "name": "Escudo de hierro", "type": "accessories", "cant": 1 }] }
          ],
          "worldState": { "soldiersDefeated": "true" },
          "conditions": {
            "requiresItem": "Llave de la fortaleza",
            "requiresLevel": 11,
            "requiresState": "fortressFound"
          }
        },
        {
          "id": "event-3-3",
          "description": "El héroe decide luchar contra los soldados.",
          "completed": false,
          "choices": {
            "fight": "Luchar contra los soldados",
            "retreat": "Retirarse sin pelear"
          },
          "selectedChoice": "fight",
          "reward": [
            { "items": [{ "name": "Espada de acero", "type": "weapons", "cant": 1 }] }
          ],
          "worldState": { "battleWon": "true" },
          "conditions": {
            "requiresItem": "Escudo de hierro",
            "requiresLevel": 12,
            "requiresState": "soldiersDefeated"
          }
        },
        {
          "id": "event-3-4",
          "description": "Tras la victoria, el héroe obtiene una llave que abre una puerta secreta.",
          "completed": false,
          "reward": [
            { "items": [{ "name": "Llave secreta", "type": "accessories", "cant": 1 }] }
          ],
          "worldState": { "secretDoorKeyObtained": "true" },
          "conditions": {
            "requiresItem": "Espada de acero",
            "requiresLevel": 13,
            "requiresState": "battleWon"
          }
        },
        {
          "id": "event-3-5",
          "description": "El héroe decide explorar la fortaleza para encontrar más secretos.",
          "completed": false,
          "reward": [
            { "items": [{ "name": "Mapa detallado", "type": "map", "cant": 1 }] }
          ],
          "worldState": { "fortressExplored": "true" },
          "conditions": {
            "requiresItem": "Llave secreta",
            "requiresLevel": 14,
            "requiresState": "secretDoorKeyObtained"
          }
        }
      ],
      "completed": false
    },
    {
      "id": "4",
      "title": "La ciudad de las tinieblas",
      "events": [
        {
          "id": "event-4-1",
          "description": "El héroe finalmente llega al Reino Perdido, pero descubre que está desolado.",
          "completed": false,
          "reward": [
            { "items": [{ "name": "Antiguo libro", "type": "books", "cant": 1 }] }
          ],
          "worldState": { "lostKingdomDiscovered": "true" },
          "conditions": {
            "requiresItem": "Mapa detallado",
            "requiresLevel": 15,
            "requiresState": "fortressExplored"
          }
        },
        {
          "id": "event-4-2",
          "description": "Encuentra una antigua biblioteca que contiene secretos del reino.",
          "completed": false,
          "reward": [
            { "items": [{ "name": "Papiro antiguo", "type": "books", "cant": 1 }] }
          ],
          "worldState": { "ancientLibraryFound": "true" },
          "conditions": {
            "requiresItem": "Antiguo libro",
            "requiresLevel": 16,
            "requiresState": "lostKingdomDiscovered"
          }
        },
        {
          "id": "event-4-3",
          "description": "El héroe descubre un antiguo artefacto que podría restaurar el reino.",
          "completed": false,
          "reward": [
            { "items": [{ "name": "Artefacto de restauración", "type": "accessories", "cant": 1 }] }
          ],
          "worldState": { "restorationArtifactFound": "true" },
          "conditions": {
            "requiresItem": "Papiro antiguo",
            "requiresLevel": 17,
            "requiresState": "ancientLibraryFound"
          }
        },
        {
          "id": "event-4-4",
          "description": "El héroe se enfrenta a un dilema moral: usar el artefacto o destruirlo.",
          "completed": false,
          "choices": {
            "use": "Usar el artefacto",
            "destroy": "Destruir el artefacto"
          },
          "selectedChoice": "use",
          "reward": [
            { "items": [{ "name": "Esencia restauradora", "type": "materials", "cant": 1000 }] }
          ],
          "worldState": { "artifactUsed": "true" },
          "conditions": {
            "requiresItem": "Artefacto de restauración",
            "requiresLevel": 18,
            "requiresState": "restorationArtifactFound"
          }
        },
        {
          "id": "event-4-5",
          "description": "El Reino Perdido comienza a resurgir gracias al poder del artefacto.",
          "completed": false,
          "reward": [
            { "items": [{ "name": "Corona del rey restaurado", "type": "accessories", "cant": 1 }] }
          ],
          "worldState": { "kingdomRestored": "true" },
          "conditions": {
            "requiresItem": "Esencia restauradora",
            "requiresLevel": 19,
            "requiresState": "artifactUsed"
          }
        }
      ],
      "completed": false
    }
  ]
}

    